
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../introduce/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.15">
    
    
      
        <title>Revolutionize UI development with a general Server-Driven UI model - Particle</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.26e3688c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#revolutionize-ui-development-with-a-general-server-driven-ui-model" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="Particle" class="md-header__button md-logo" aria-label="Particle" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Particle
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Revolutionize UI development with a general Server-Driven UI model
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/what-s-particle/particle-docs" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Particle" class="md-nav__button md-logo" aria-label="Particle" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Particle
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/what-s-particle/particle-docs" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        开始
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          概念
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          概念
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduce/" class="md-nav__link">
        探索Server-driven UI
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Revolutionize UI development with a general Server-Driven UI model
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Revolutionize UI development with a general Server-Driven UI model
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-future-of-ui-development" class="md-nav__link">
    The future of UI development?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-abstract-the-ui" class="md-nav__link">
    How to abstract the UI？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-model-it" class="md-nav__link">
    How to model it?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-collaborate-across-processes" class="md-nav__link">
    How to collaborate across processes?
  </a>
  
    <nav class="md-nav" aria-label="How to collaborate across processes?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-and-logic-stay-in-the-backend" class="md-nav__link">
    Data and logic stay in the backend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client-is-a-page-or-application-container" class="md-nav__link">
    Client is a page or application container
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#challenges-in-this-model" class="md-nav__link">
    Challenges in this model
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="revolutionize-ui-development-with-a-general-server-driven-ui-model">Revolutionize UI development with a general Server-Driven UI model<a class="headerlink" href="#revolutionize-ui-development-with-a-general-server-driven-ui-model" title="Permanent link">&para;</a></h1>
<h2 id="the-future-of-ui-development">The future of UI development?<a class="headerlink" href="#the-future-of-ui-development" title="Permanent link">&para;</a></h2>
<p>Server-Driven UI (User Interface) is an approach to building mobile or web applications where the UI is defined and
rendered on the server-side, and then delivered to the client-side for display. In this approach, the client application
is responsible only for displaying the UI that it receives from the server, and for handling user interactions and
events.</p>
<p>The server-side code generates the UI based on the business logic and user data, and can dynamically update the UI as
needed. This approach has several benefits, such as:</p>
<p>Updating the client application dynamically without release.
Making A/B testing and experimentation easier allows for easy decision-making on product iterations.
Writing the business logic only on one end, improving team collaboration efficiency.</p>
<p>Server-Driven UI(it will be replaced with the abbreviation 'SDUI' subsequently) is often used in modern mobile and web
applications, especially those that require frequent UI updates and a consistent user experience across multiple
platforms and devices.</p>
<p>Since there is currently no available open-source framework for building such a system, I propose a framework called '
Particle' for building SDUI, aiming to provide a generic model for this approach.</p>
<h2 id="how-to-abstract-the-ui">How to abstract the UI？<a class="headerlink" href="#how-to-abstract-the-ui" title="Permanent link">&para;</a></h2>
<p>The key to the success of a SDUI framework is to ensure the stability of the UI abstraction layer. To build a UI data
model that takes into account ease of use, maintainability, and extensibility, Particle defines three different parts.</p>
<ul>
<li>
<p>Structure: structure refers to the layout relationship between various components on a page. We can divide a page into
several sections, with each section containing multiple page elements. Different sections can use different layout
styles, such as vertical, horizontal, or grid layout.</p>
</li>
<li>
<p>Elements: elements are the visible parts of a webpage, including text, images, buttons, forms, and lists. Each element
has its own properties and styles, such as font, color, size, background, etc.</p>
</li>
<li>
<p>Interaction: interaction generally refers to various operations performed by users on the page and the feedback they
receive. Operations include clicking, sliding, inputting, zooming, rotating, etc. Feedback includes form submissions,
page state changes, permission request prompts, and animations, etc.</p>
</li>
</ul>
<p>This is a common abstraction model in frontend development that describes the composition, style, and interactive
behavior of an application screen/page. It can be applied in various frontend frameworks and development tools, such as
React, Vue, Angular, SwiftUI, Compose, etc.</p>
<p>In the part of interaction, there are also some non-user behaviors. For example, in the scenario where "the loading
prompt pops up when the Home page of the application is first displayed on the screen," we can understand "displayed on
the screen for the first time" as an operation, and "popping up the loading prompt box" as its feedback. In light of
this, we collectively refer to all operations as <code>Event</code>s, and all feedbacks as <code>Action</code>s</p>
<h2 id="how-to-model-it">How to model it?<a class="headerlink" href="#how-to-model-it" title="Permanent link">&para;</a></h2>
<p>Using this abstraction, we can model the pages or screens of an application. We call the abstract object of the UI a "
Particle," which is composed of an element or layout (container). The page properties and styles are referred to as "
Modifiers," and page interactions are referred to as "Interactions." It's worth noting that a page may have multiple
interactions.</p>
<p><img alt="particle_model" src="../../res/particle_model.png" /></p>
<p>It's crucial to note that when a Particle is composed of a layout, such as RowComponent, the child element of this
layout must also be a Particle. This ensures that the Particle model can accurately describe all UI pages.</p>
<h2 id="how-to-collaborate-across-processes">How to collaborate across processes?<a class="headerlink" href="#how-to-collaborate-across-processes" title="Permanent link">&para;</a></h2>
<p>The client and server can communicate using network protocols such as HTTP and WebSocket. The typical workflow involves,
- The client requests the agreed endpoint for obtaining the UI rendering data of the application/page.
- The server generates UI data according to the parameters carried in the client request, and responses it to the client
in sequence.
- The client needs to implement all the functions mentioned in the modeling chapter. Now, the UI data responded by the
server will be drawn and bound to the interactive events in the data, such as button click, text input, etc., and form
submission.</p>
<p>In SDUI, WebSocket can be used to enable two-way communication, allowing the server to push UI updates or data changes
to the client in real-time. After establishing a WebSocket connection with the server, the client can receive updates
related to UI layout, style, and data through the connection, thereby ensuring timely interface updates. Compared to the
traditional HTTP request-response mode, WebSocket can push real-time data and UI changes more efficiently, thereby
improving the overall user experience and interactivity.</p>
<h3 id="data-and-logic-stay-in-the-backend">Data and logic stay in the backend<a class="headerlink" href="#data-and-logic-stay-in-the-backend" title="Permanent link">&para;</a></h3>
<p>In SDUI, the server plays a pivotal role in generating the UI data, such as page structure, layout, element style, and
interaction events. The server can create diverse UI data based on different users, scenarios, and conditions, which
facilitates personalization and dynamism of the UI.
However, it's important to note that the server's responsibilities are not limited to providing UI data. It also needs
to handle business logic, data storage, security verification, and performance optimization to ensure the accuracy,
dependability, and efficiency of the UI.</p>
<h3 id="client-is-a-page-or-application-container">Client is a page or application container<a class="headerlink" href="#client-is-a-page-or-application-container" title="Permanent link">&para;</a></h3>
<p>The client's primary responsibility is to parse UI description data from the server, and parse and render it into an
actual user interface. This involves implementing UI element layout, style, interactive behavior, and other features,
and continuously updating and refreshing the UI based on data returned by the server to provide users with the latest UI
experience. Additionally, the client must implement data interaction and communication with the server to ensure
synchronization and consistency of UI data.</p>
<p>When using Jetpack Compose or SwiftUI to build a mobile application, the UI data from the previous chapter can easily be
converted into corresponding @Composable components and View objects.</p>
<p>Importantly, the client does not need to be concerned with the business logic or UI presentation of the server when
implementing it. It must implement all the content described in the entire Particle model, including all Elements,
Layouts, Modifiers, and Interactions, in order to render the expected UI page at runtime.</p>
<h2 id="challenges-in-this-model">Challenges in this model<a class="headerlink" href="#challenges-in-this-model" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>Abstracting a general Action from a specific scene
For instance, consider a user login button that triggers a form submission. To handle such actions, we may need to
define a general-purpose CopyPasteAction, which can replace the appropriate placeholder in the form URL with a specific
section of text (or other types of data) . Predictably, there are numerous scenarios that necessitate abstraction.</p>
</li>
<li>
<p>All about UI building 
When considering releasing an application to the global market, developers need to take into account factors such as
culture, language, and regional differences to provide multilingual support, appropriate time and date formats, currency
symbols, color schemes, etc. In addition, to enhance user satisfaction and increase market share, developers may need to
translate text, adjust interface layouts, use localized icons and images, and comply with local regulations. These
challenges also exist in Particle modeling, and may require more effort to be addressed on the server side.</p>
</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../introduce/" class="md-footer__link md-footer__link--prev" aria-label="上一页: 探索Server-driven UI" rel="prev">
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                探索Server-driven UI
              </div>
            </div>
          </a>
        
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2023 100k为什么. All rights reserved. 陕ICP备2023006299号
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["toc.integrate", "navigation.footer"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
        <script src="../../js/baidu-tongji.js"></script>
      
    
  </body>
</html>